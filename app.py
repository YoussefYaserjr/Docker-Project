import streamlit as st
import numpy as np
import pickle
from sklearn.preprocessing import LabelEncoder


with open("data/car_prices.pk1", "rb") as f:
    model = pickle.load(f)

st.title("Car Prices Predictor")

color_options = ['Champagne',
 'Beige',
 'Blue',
 'Green',
 'Purple',
 'Petroleum',
 'White',
 'Eggplant',
 'Cyan',
 'Dark grey',
 'Brown',
 'Bronze',
 'Silver',
 'Dark green',
 'Yellow',
 'Gray',
 'Mocha',
 'Black',
 'Red',
 'Orange',
 'Olive',
 'Dark red',
 'Dark blue',
 'Gold']

brand_options = ['Karry',
 'Opel',
 'Cadillac',
 'Kia',
 'Tata',
 'Lexus',
 'Toyota',
 'Chery',
 'Lotus',
 'Jaguar',
 'Gaz',
 'Haima',
 'Keyton',
 'Peugeot',
 'Hyundai',
 'Renault',
 'Baic',
 'Chana',
 'Lada',
 'Senova',
 'Faw',
 'Isuzu',
 'Dongfeng',
 'Great Wall',
 'Fiat',
 'Lincoln',
 'Subaru',
 'Bugatti',
 'Acura',
 'Hafei',
 'Volvo',
 'Audi',
 'Chrysler',
 'Landwind',
 'Sokon',
 'GAC',
 'Mini',
 'Mercedes',
 'Proton',
 'Bentley',
 'Jonway',
 'Porsche',
 'Perodua',
 'Jeep',
 'Abarth',
 'Forthing',
 'Saipa',
 'Honda',
 'DFSK',
 'Seat',
 'Foton',
 'Citroën',
 'Chevrolet',
 'Cupra',
 'Domy',
 'Jetour',
 'Kenbo',
 'Smart',
 'MG',
 'Zotye',
 'Bestune',
 'Speranza',
 'Skoda',
 'Daihatsu',
 'Volkswagen',
 'Byd',
 'Dodge',
 'Suzuki',
 'Datsun',
 'Mazda',
 'Canghe',
 'Ds',
 'Soueast',
 'Nissan',
 'Aston Martin',
 'Mitsubishi',
 'Hawtai',
 'Tesla',
 'Mahindra',
 'Brilliance',
 'Gmc',
 'BMW',
 'Haval',
 'Emgrand',
 'Kaiyi',
 'Geely',
 'Hummer',
 'Ford',
 'Zeekr',
 'Ssang Yong',
 'Maserati',
 'Alfa Romeo',
 'Lifan',
 'Land Rover',
 'Changan',
 'Infiniti',
 'Buick',
 'Jac',
 'Daewoo']

model_options = ['M70',
 'A30 Shine',
 'Lobo',
 'A4',
 'E 350',
 'DS3',
 '250',
 'Cerato Koup',
 'Corona',
 'Pathfinder',
 'Durango',
 '3 Series',
 'Toledo',
 'Polo',
 'X5 M',
 'S2',
 '7',
 'S 320',
 'Chery QQ',
 'X3 Pro',
 'C30',
 'T-Roc',
 'Kamiq',
 'X3 M',
 'ZS',
 '605',
 'DX3',
 'Veryca',
 'Taurus',
 'Charmant',
 '530',
 'Jetta',
 'Favorit',
 'MZ 40',
 'Accent HCI',
 'X40',
 'Golf 7',
 '307',
 'Eclipse',
 'Grand i10',
 'B 200',
 'GLC 300',
 'X25',
 '1 Series',
 'Eos',
 '320',
 'RX5 Plus',
 'Soul',
 'M11',
 'Golf 2',
 'C 300',
 '545',
 'Lancer Puma',
 'E 220',
 'C31',
 'IX1',
 'Attrage',
 'Lancer Crystala',
 'Mondeo',
 'Jimny',
 'Waja',
 'Rodeo',
 'Pajero',
 'Aveo',
 'Eado',
 'A620',
 'Clio',
 'Velar',
 'Regata',
 'Emgrand 7',
 'S60',
 'Model X',
 'S4',
 'Altea',
 'Territory',
 'Tiggo 7 pro max',
 'Haima 3',
 'Cerato',
 'GLC 200',
 'Range Rover',
 'Espero',
 '460',
 'Ex 7',
 'Mini',
 'Indigo',
 'A5',
 'Ax',
 'Dashing',
 'Ck2',
 'Bayon',
 'B30',
 'Punto',
 'LX 570',
 'Hilux',
 'V3',
 'E Golf',
 'C 200 AMG',
 'Partner',
 'Rav 4',
 'A3',
 'Dargo',
 'Grand C4 Spacetourer',
 'Persona',
 'EQE',
 'E 200 AMG',
 '505',
 '335',
 'Multivan',
 'ASX',
 '620',
 'E 320',
 'Convertible',
 'Journey',
 'GLE 350',
 'Elantra Coupe',
 'Golf 8',
 'Octavia',
 '528',
 'Tiggo',
 'Flyer',
 'CLS Class',
 'H2',
 'Spark EV',
 'V60',
 'Ertiga',
 'Symbol',
 'Country man',
 'E 53 AMG',
 'Gen 3',
 'Elantra AD',
 'XV',
 'Discovery sport',
 'Fabia',
 'Foreman',
 'CLA Class',
 'S 500',
 'Ritmo',
 'Aurion',
 'Avante',
 'Veloster',
 'Song Plus',
 'A 140',
 'S3',
 'S 450',
 'Racer',
 'Siena',
 'RV 1',
 'Nubira 2',
 'Dyna',
 'Cruze',
 'Xsara',
 'Prius',
 'Ds5',
 'Naughty',
 'Taycan',
 'GLC 200 AMG Imported',
 'Seltos',
 'Tercel',
 'Datsun',
 'Elantra',
 'Flying Spur',
 'Cielo',
 'HS',
 'C5',
 'Creta SU2',
 'Envoy',
 'Escape',
 'Turan',
 '3',
 '318',
 'Passat',
 'Dogan',
 '125',
 'Sportage',
 '116',
 'Ciaz',
 'Terios',
 'Yaris',
 'Rx5',
 'Felicia',
 'Bora',
 'G3',
 'LEAF',
 'C 230',
 'C4 Grand Picasso',
 'Charger',
 'Fusion',
 'Caddy',
 'Doblo',
 '520',
 'V 60',
 'Galena',
 '228',
 'Scenic',
 'XC60',
 '2008',
 '308 sw',
 'Getz',
 'Grandis',
 'Octavia A7',
 'M3',
 'CLA 200',
 '508',
 'D max',
 'Peri',
 'Accord',
 'C 240',
 'Alto',
 'Shuma',
 'Matrix',
 'N5',
 'Rush',
 'S40',
 'N200',
 '500C',
 'Glory',
 'RX',
 'Elantra MD',
 'Tucson Turbo GDI',
 '929',
 'Tiggo 3',
 'ID 6',
 'T5 evo',
 'Berlingo',
 'Murano',
 'Octavia A4',
 '420',
 'Arona',
 'Florida',
 'Commander',
 '323',
 'Clubman',
 'Cooper Paceman',
 'Matiz',
 'Spark',
 'Fortuner',
 '232',
 'E 250',
 'Innova',
 'Explorer',
 'Spectra',
 'Envy',
 'Stratus',
 'Range Rover Sport',
 'GLE',
 'C 280',
 'C 250',
 'X4',
 'Van',
 'ENS1',
 '360',
 'Frontera',
 'Leon',
 'Trax',
 'K3',
 'A 180',
 'X1',
 'X90',
 '9',
 'Qin Pro',
 'Torres',
 'T-Series',
 'Octavia A8',
 'J2',
 'Swift',
 'Captur',
 '206',
 'A1',
 'Renegade',
 'New Star',
 'A 160',
 'Forte',
 '207',
 'Q3',
 'Rapid',
 'Avalanche',
 'DX5',
 'L3',
 'Microbus',
 'S80',
 'Tiggo 4',
 'Gen 2',
 'X70 Plus',
 'A 45 AMG',
 'Gazelle',
 'Sorento',
 '518',
 'Grand Cherokee',
 'Oka',
 'Cherokee',
 'Royal',
 'Materia',
 'Altima',
 'ideal',
 'EQS',
 'Solaris',
 'A 10',
 '500',
 '131',
 '350',
 '340',
 'Pacifica',
 'IX 35',
 'Neon',
 'I10',
 'Sonata',
 'Haima 1',
 'Aeolus A30',
 'Lancer',
 'Rapide S',
 'Dart',
 'Creta Grand',
 'Golf 6',
 'FRV Cross',
 '80',
 'Civic',
 'Fiorino',
 'Transporter',
 'Q2',
 'Visto',
 'C 200',
 'L300',
 'C3 Picasso',
 '2',
 '25',
 'Palio',
 'Scorpio',
 'Malibu',
 '750',
 'Maruti',
 'Grand Cerato',
 'Caprice',
 'Roomster',
 'Preve',
 'John Cooper',
 'A213',
 'HRV',
 '156',
 'Avanza',
 'Tiggo 7 pro',
 'Pickup',
 'City',
 'V5',
 'XC90',
 'B 180',
 'Pandino',
 'Genesis',
 'S-Type',
 'APV',
 '244',
 'Ateca',
 'Mk',
 'Veyron',
 'E 200',
 'C 180',
 'H100',
 'Voyager',
 'Town',
 'Duster Nova',
 'Baleno',
 'C4',
 'IX3',
 'Rumion',
 'Ram',
 'Alsvin',
 'Wingle 5',
 'EV6',
 'Model 3',
 'V6',
 'Juliet',
 '205',
 'Optima',
 'C3 Aircross',
 'Stelvio',
 'Compass',
 'Cooper Roadster',
 'Q35',
 'Fronx',
 'Yeti',
 'Tempra',
 'QX80',
 'Legacy',
 '500 X',
 'Saga',
 'X6',
 'T5',
 '607',
 'CRV',
 'SEL 280',
 'Yrv',
 'A7',
 'CS 15',
 'Glory Van',
 'Cascada',
 'Vectra',
 'Tipo',
 'Tiggo 8 pro e+',
 'Avensis',
 'Charade',
 'EX7',
 'Cooper Hatch',
 'Glory 330',
 'Kodiaq',
 'Juke',
 'Celerio',
 'Duster',
 'H3',
 'X6 M',
 'Discovery',
 'Equinox',
 'CS 35 Plus',
 'Panamera S',
 'X35',
 'T300',
 'Grand Santa Fe',
 'V7',
 'ZS EV',
 'Tiguan',
 'Santamo',
 'I3',
 'Jimmy',
 'Wrangler Unlimited',
 'MRV',
 'Fox',
 'Minivan',
 'CC',
 'Starlet',
 'X70',
 'X 30',
 'Musso',
 'Lodgy',
 'Z',
 'Q5',
 'Macan',
 'Tiggo 7',
 'DBX',
 '21',
 'Impreza',
 'Legend',
 'Beetle',
 'GLA',
 'Parati',
 'Laguna',
 'X Pandino',
 'A 200',
 'MCV',
 'Auris',
 'Elantra HD',
 'Tiba',
 'EAGLE 580',
 'S5',
 'Kancil',
 '200',
 'Atos',
 '180B',
 '406',
 'Sandero Step Way',
 'E-2008',
 'Dream',
 'Carnival',
 'CLA AMG',
 'Model Y',
 'C5 Aircross',
 'K900',
 'Emgrand 5',
 'Logan',
 'Cordoba',
 'Es',
 'F3R',
 'Tiburon',
 'Polonez',
 'CS 35',
 'Granta',
 'Uno',
 '301',
 'Lanos',
 'Elantra CN7',
 'Thunderbird',
 'Mokka',
 'C2',
 'X70S',
 'Imperial',
 'K5',
 '207 SW',
 'F0',
 'MDX',
 'Qubo',
 'J3',
 'G Class',
 'I20',
 'Rainbow',
 'GLK 250',
 '525',
 'Mirage',
 'Gratour',
 'Camaro',
 'Superb',
 'C Class',
 'S Presso',
 'Picanto',
 'H6',
 'Solara',
 'Ibiza',
 'C Elysee',
 'T500',
 'Sunny',
 'C-HR',
 'N-Series',
 'S 350',
 'Brava',
 'Corsa',
 'E2000',
 '740',
 'A113',
 '132',
 'XF',
 'PT Cruiser',
 'Ls',
 '405',
 'A11',
 'Jumpy',
 'Cross',
 'CLA 45 AMG',
 'CS 85',
 'Marea',
 'Maybach S500',
 '5',
 '760',
 'EcoSport',
 'Felicia combi',
 'Bronco',
 'Marsh',
 'Vantage',
 'Golf',
 'Ceed',
 'Odyssey',
 'E 230',
 'Sandero',
 'Fiesta',
 'X4M',
 'A516',
 'Nubira',
 'Range Rover Vogue',
 'Arrizo 3',
 'Grecale',
 'GS',
 'Q22',
 '626',
 'Creta',
 'Cooper',
 'Nubira 1',
 'Saipa',
 'Sx4',
 'FSV',
 'Florid',
 'CLK',
 'M50',
 'Tons2 / 2.5',
 'Emgrand X7',
 'DS5',
 'Familia',
 'Splendor',
 'Giulietta Quadrifoglio Verde',
 '695',
 'B70',
 'Tucson GDI',
 'T77 Pro',
 '218 i',
 'Kicks',
 'Grand terios',
 'Wira',
 'Pride',
 'M4',
 'foison',
 '240',
 '127',
 'E Class',
 'Tiggo 8 Pro',
 'S90',
 'I30',
 'Arrizo 5 pro',
 '440i',
 'E 240',
 'Verna',
 'N300',
 'X5',
 '560',
 'Lacetti',
 'A6',
 'C4X',
 'Octavia A5',
 'Transit',
 'Jolion',
 'Carens',
 'Belta',
 'CL Class',
 'Escalade',
 'B 150',
 'Maxima',
 'H1',
 'Han',
 'Wrangler',
 'Englon',
 'Golf 5',
 'Integra',
 '408',
 '19',
 '128',
 'Leganza',
 'TT',
 'Maybach S600',
 'Grandland',
 'T55',
 'Click',
 'Wagoneer',
 'Veloz',
 'C4 Picasso',
 'F3',
 'Bravo',
 'Kalina',
 'Arrizo 5',
 '208',
 'Pointer',
 'Range Rover Evoque',
 'Exige',
 'Z4',
 '190',
 'B 160',
 'Hover',
 'X-Type',
 '124',
 'Carry',
 'DS7',
 'Pegas',
 'Scala',
 'Focus',
 'Cayenne S',
 'E 180',
 'Q8',
 'Vitara',
 'EC 7',
 'Tivoli XLV',
 '330S',
 'Formentor',
 'A 35 AMG',
 'Grand vitara',
 'Coaster',
 'AMG GT',
 'Komodo',
 'Land Cruiser',
 'Z100',
 '418',
 'Cx 3',
 'Captiva',
 'Sentra',
 'Bluebird',
 'Teramont',
 'Maple',
 'Sonic',
 'A380',
 'XD',
 'Corolla',
 'Panda',
 'Megane',
 'Sprint',
 'Niva',
 'SIRION',
 'Tiida',
 'Viva',
 'Q7',
 'Amarok',
 'X3',
 'X95',
 'GLK 350',
 'Mira',
 '308',
 'Corsair',
 'Freelander',
 'A15',
 'GA3',
 'Navigator',
 'Astra',
 'K01',
 '6',
 'Samara',
 '146',
 'LR2',
 'Cayenne',
 'GLA 180',
 'Galant',
 'A25',
 'Cadenza',
 'Mini Van',
 'GLK 300',
 'Tons 5.5',
 'JS3',
 'Ghibli',
 'Swift Dzire',
 'Crossland',
 'GX3 Pro',
 'Pick up',
 'Adam',
 'J7',
 'T5 Evo',
 'Tucson',
 'Grand C-Max',
 'DX7',
 'Qashqai',
 'Lanos 2',
 'Gentra',
 'Corolla Cross',
 'Cressida',
 'XE',
 'Rio',
 'Kadjar',
 '504',
 'Tiggo 8',
 'Meriva',
 'Punto evo',
 '118',
 'Tiggo 2',
 '001',
 'Kuga',
 'Galloper',
 'Golf 4',
 'Accent RB',
 'CLA 180',
 'Cool Ray',
 'Fortwo',
 'Eado plus',
 'J5',
 'Tivoli',
 'Ranger',
 'Hiace',
 '325',
 'Patrol',
 'XA',
 '500 E',
 'V101',
 'Silverado',
 'Fluence',
 'E 300',
 'Eagle',
 'Skylark',
 '235',
 'JS4',
 'A13',
 'Terrain',
 'X2',
 'Benni',
 'Petra',
 'Suran',
 '2017',
 'Zaz',
 'ZX',
 'GLS',
 'Town & Country',
 'Camry',
 'Sebring',
 'Echo',
 'Mini Cooper S',
 'Sparky',
 'Optra',
 'Family',
 'Omega',
 'Xplosion',
 'Colt',
 'S 550',
 '330',
 'Golf 3',
 '106',
 '300',
 'X7',
 'Patrol safari',
 'A8',
 'Fantasia',
 '180',
 'RCZ',
 'Livina',
 'Excel',
 'Fx',
 'XC 40',
 'M12',
 'Sephia',
 'Viano',
 'C3',
 'J15',
 'Xpander',
 'Linea',
 'H530',
 'Urvan',
 'Fruits',
 'Prado',
 'XTrail',
 'MG 4',
 'ID 4',
 'Gran max',
 'Eagle pro',
 '407',
 'Rapid Spaceback',
 'Tarraco',
 'Escort',
 'S30',
 'Emkoo',
 '280',
 'T600',
 'Emgrand',
 'C8',
 'Terracan',
 'Vita',
 'Boxster S',
 'Karoq',
 'FRV',
 '230',
 'Giulietta',
 'Lancer EX Shark',
 'Accent',
 '523',
 '220',
 'Largus',
 'Touareg',
 'Ck',
 'Shahin',
 'Eclipse Cross',
 'Blazer',
 'S7',
 'Pilot',
 'CS 55',
 '121',
 'Okavango',
 'Liberty',
 '316',
 'Acadia',
 'Xceed',
 'Insignia',
 'Mini Truck',
 'M850',
 'Defender',
 'Countryman S']

# واجهة إدخال الخصائص
car_brand_classes = st.selectbox("Car Brand",options=brand_options)
car_model_classes = st.selectbox("Car Model",options=model_options)
year = st.number_input("Year")
color_classes = st.selectbox("Car Color",options=color_options)
miles = st.number_input("Miles")
air_conditioner_classes = st.text_input("Air Conditioner")
power_steering_classes = st.text_input("Power Steering")
remote_control_classes = st.text_input("Remote Control")
automatic_classes = st.text_input("Automatic") 

automatic_classes = 1 if automatic_classes == "Yes" else 0
air_conditioner = 1 if air_conditioner_classes == "Yes" else 0
power_steering = 1 if power_steering_classes == "Yes" else 0
remote_control = 1 if remote_control_classes == "Yes" else 0

le_color = LabelEncoder()
le_color.fit(color_options)
car_color = le_color.transform([color_classes])[0]

le_brand = LabelEncoder()
le_brand.fit(brand_options)
car_brand = le_brand.transform([car_brand_classes])[0]

le_model = LabelEncoder()
le_model.fit(model_options)
car_model = le_model.transform([car_model_classes])[0]

# عند الضغط على الزر
if st.button("Predict Car Price"):
    
    input_data = np.array([[
    car_model, car_brand, car_color, automatic_classes, air_conditioner, power_steering, remote_control, year, miles
    ]])

    prediction = model.predict(input_data)
    result = int(prediction[0])  # نحولها لعدد صحيح
    st.write("Prices is:", prediction[0])
    